---
globs: **/*
alwaysApply: true
---

# REGAIN: Product Essence & Core Philosophy

REGAIN is not a conventional fitness app; it is a movement engineering system based on longevity, awareness, holistic approach and technical variability.

## 1. Value Proposition
Maximize performance and long-term health through intelligent exercise variability, minimizing discomfort and injuries derived from sedentary lifestyles or overtraining.

## 2. Methodology Pillars (Pilates DNA)
All generated training logic must filter exercises under these 4 principles:
- **Breathing**: The cornerstone of every movement and predecessor of strength and stamina.
- **Holistic Focus**: The core muscles as the foundation of everything and the idea of "connecting" the whole body (specially through the core) instead of isolating muscles. Alignment is key.
- **Variability**: Avoiding mechanical repetition to prevent "undertraining" of stabilizing muscles.
- **Longevity**: Joint and postural health over ego or maximum load while achieving true strength through alignment of the totality of the body's muscles as a unified machine. Strength and muscle mass increase are certainly attainable, but they must not compromise alignment, breath, other muscles or technique.
- **technique**: movement should be deliberate, precise and controlled. Avoiding momentum and compensation patterns.

## 3. Session & Training Logic
Each **Session** generated by the AI must strictly follow this order:
1. **Phase 1: Warm-up (Warm-up + Mobility)**: Joint preparation.
2. **Phase 2: Workout (Core + Framework)**: The central part of the session.
3. **Phase 3: Cool Down (Stretching/Mobility)**: **MANDATORY.** Stretches must be mechanically linked to the muscles worked in Phase 2.

## 4. Technical Movement Hierarchy
When selecting or suggesting exercises, the AI must prioritize:
- **Posture**: Absolute priority on back and spinal protection.
- **Mobility/Flexibility**: Indispensable predecessors to strength.
- **Rotation**: Include rotation patterns (often forgotten in daily life).
- **Mechanical Order**: 
    - Bilateral BEFORE Unilateral.
    - Static BEFORE Dynamic.
    - Concentric BEFORE Eccentric.

## 5. Data Architecture (Exercises vs. Variations)
- **Exercise**: The parent entity (e.g., "Push-up"). Not always suitable for Progressive Overload (e.g., pure mobility).
- **Variation**: Specific instance with changes in weight, range of motion, bilaterality and difficulty.
- **Overload Period**: Transition state between two variations. Considered completed (Milestone) after 3 successful sessions with the new variation.

## 6. Terminology & Data Hierarchy

To maintain consistency across the codebase (JS) and the database (JSON), the following terms must be used strictly:

- **Session**: A single iteration of a Training (e.g., "Leg Day Session #3").
- **Workout**: A label denoting the specific routine or type of workout. Also referred to as "Routine" (e.g., Leg, Shoulder, Chest, Back, Pull, Push, Upper body, Lower body).
- **Discipline**: The method or style of training (e.g., CrossFit, Animal Flow, Pilates, Weights).
- **Training Framework**: The components of the training system logic, usually functioning in pairs or packs (e.g., Push-Pull, Upper-Lower, Chest-Back-Legs).
- **Phases**: The components of a Session: Warm-up (cardio, mobility), Workout, Core, Cool-down (stretching, mobility)â€¦
- **Training System**: The complete cycle with a specific order/pattern of trainings. Can be weekly or monthly (e.g., Mon: Pull, Wed: Push, Fri: Legs, Sun: Animal Flow).
- **Exercise**: The movement entity that typically houses multiple variations (e.g., "Push-up").
- **Superset**: A set of 2 or more exercises performed without rest. They function as a single, longer exercise unit.
- **Set**: A group of repetitions of a variation.
- **Variation**: Specific element inside of an exercise that changes in load, leverage, stability, duration, range of motion or form that influence difficulty mainly and muscle engagement. *Note: Assigning weight or changing bilaterality/range of motion automatically creates a Variation.*
- **Overload**: Attempting a variation that the user theoretically cannot yet perform successfully (e.g., One-arm push-up).
- **Progressive overload**: The order in which variations of an exercise are established depending on the difficulty of each variation. Difficulty means change in weight or form
-**Form**: One of the several criteria that identifies a variation of an exercise. For example: diamond push ups are a variation of a normal push up because of its form.
-**Technique**: Degree to which one performs a variation deliberately, precisely and with control, avoiding detrimental actions such as momentum and compensation patterns. 
- **Overload Period**: The time (measured in sessions, days, or weeks) it takes to transition from one variation to another. This period closes when the user successfully completes 3 sessions of a training using the new variation.
- **Milestone**: Achieved when a new, superior (more difficult) variation is maintained successfully for 3 sessions.

## 7. AI Generation Rules
When asked to generate a workout:
- NEVER repeat the exact same combination of exercises in consecutive sessions of the same training type.
- ALWAYS include correction reminders ("straight back," "reach for the wall").
