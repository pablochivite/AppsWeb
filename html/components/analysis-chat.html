<!-- Analysis Chat Component -->
<div class="analysis-chat-container glass-strong rounded-2xl p-6 card-hover">
    <h3 class="text-xl font-semibold text-white mb-4">Análisis de Progreso con IA</h3>
    
    <!-- Query Input -->
    <div class="mb-4">
        <div class="flex gap-2">
            <input 
                type="text" 
                id="analysis-query-input" 
                class="flex-1 px-4 py-2 rounded-lg bg-white/10 border border-white/20 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-white/30"
                placeholder="Pregunta sobre tu progreso... (ej: ¿Cómo va mi progresión en pecho este mes?)"
            />
            <button 
                id="analysis-query-submit" 
                class="px-6 py-2 bg-white hover:bg-white/90 text-black font-semibold rounded-lg transition-all duration-300 hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed"
            >
                Analizar
            </button>
        </div>
    </div>

    <!-- Loading Indicator -->
    <div id="analysis-loading" class="hidden text-center py-4">
        <div class="inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-white"></div>
        <p class="text-white/60 mt-2">Analizando tus datos...</p>
    </div>

    <!-- Clarification Message -->
    <div id="analysis-clarification" class="hidden mb-4 p-4 bg-yellow-500/20 border border-yellow-500/50 rounded-lg">
        <p class="text-yellow-200 text-sm" id="clarification-text"></p>
    </div>

    <!-- Error Message -->
    <div id="analysis-error" class="hidden mb-4 p-4 bg-red-500/20 border border-red-500/50 rounded-lg">
        <p class="text-red-200 text-sm" id="error-text"></p>
    </div>

    <!-- Visualization Chart -->
    <div id="analysis-chart-container" class="hidden mb-4">
        <canvas id="analysis-chart"></canvas>
    </div>

    <!-- Insights -->
    <div id="analysis-insights" class="hidden mb-4">
        <h4 class="text-lg font-semibold text-white mb-2">Insights</h4>
        <ul id="insights-list" class="space-y-2 text-white/80 text-sm">
            <!-- Insights will be populated here -->
        </ul>
    </div>

    <!-- Recommendations -->
    <div id="analysis-recommendations" class="hidden">
        <h4 class="text-lg font-semibold text-white mb-2">Recomendaciones</h4>
        <ul id="recommendations-list" class="space-y-2 text-white/80 text-sm">
            <!-- Recommendations will be populated here -->
        </ul>
    </div>
</div>

